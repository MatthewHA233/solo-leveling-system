# ⚔️ 独自升级系统 | Solo Leveling System

> "恭喜你成为玩家。"

一个以《独自升级》(Solo Leveling) 为灵感的 AI Agent 系统。  
实时感知你的屏幕活动，推断动机，主动触发任务和 buff。比贾维斯更懂你。

## ✨ 特性

- 🔍 **屏幕感知** — 定时截屏 + 窗口检测，跨平台 (Linux/Mac/Win)
- 🧠 **AI 认知** — Claude/Gemini 分析你在做什么、想做什么
- 🎯 **动机推断** — 不只记录行为，理解你的目的和意图
- ⚔️ **任务系统** — 每日任务自动生成 + AI 智能任务 + 紧急任务
- ✨ **Buff/Debuff** — 专注领域、创造灵感、注意力涣散、拖延诅咒...
- ⭐ **被动经验** — 编程/学习/工作都有经验，专注越高倍率越高
- 🏆 **成就系统** — 19 个成就 (含隐藏成就)
- 🛒 **商店系统** — 金币购买药水、经验晶石、装备 (致敬原作)
- 🗡️ **技能系统** — 被动技能 + 主动技能，随等级解锁
- 🏜️ **惩罚区域** — 不完成每日任务？准备好面对惩罚吧
- 📊 **每日报告** — 自动生成活动总结
- 🌐 **Web 面板** — 暗色系独自升级风格 UI，实时更新
- 📱 **WebSocket** — 实时推送通知

## 🚀 快速开始

```bash
cd solo-leveling-system
pip3 install -r requirements.txt
cp config/default.yaml config/local.yaml  # 编辑配置
python3 -m src.core
```

访问 Web 面板: http://localhost:8888

### PM2 管理 (推荐)

```bash
pm2 start ecosystem.config.json
pm2 logs solo-leveling
```

### 演示模式

```bash
python3 demo.py  # 模拟一整天的活动
```

## 🏗️ 架构

```
┌──────────── Web 面板 (FastAPI + WebSocket) ────────────┐
│                                                         │
│  ┌─────────────── 系统层 ──────────────────┐           │
│  │ 任务引擎 | Buff引擎 | 经验引擎          │           │
│  │ 成就系统 | 商店系统 | 技能系统           │           │
│  │ 惩罚区域 | 通知引擎 | 报告生成           │           │
│  └──────────────────┬──────────────────────┘           │
│                     │                                   │
│  ┌──────────────────▼──────────────────────┐           │
│  │          认知层 (AI 大脑)                │           │
│  │  AI 分析器 | 动机推断 | 行为模式检测     │           │
│  └──────────────────┬──────────────────────┘           │
│                     │                                   │
│  ┌──────────────────▼──────────────────────┐           │
│  │         感知层 (五感)                    │           │
│  │  屏幕捕捉 | 窗口检测 | 输入监控         │           │
│  └─────────────────────────────────────────┘           │
└─────────────────────────────────────────────────────────┘
```

## 📊 API 端点

| 端点 | 方法 | 说明 |
|------|------|------|
| `/api/status` | GET | 系统 + 玩家状态 |
| `/api/quests` | GET | 活跃任务列表 |
| `/api/quests/{id}/complete` | POST | 完成任务 |
| `/api/snapshots` | GET | 活动快照时间线 |
| `/api/achievements` | GET | 成就列表 + 进度 |
| `/api/pattern` | GET | 当前行为模式 |
| `/api/motive` | GET | 动机推断结果 |
| `/api/shop` | GET | 商店物品列表 |
| `/api/shop/buy/{id}` | POST | 购买物品 |
| `/api/skills` | GET | 技能列表 |
| `/api/skills/{id}/activate` | POST | 激活主动技能 |
| `/api/penalty` | GET | 惩罚状态 |
| `/api/report` | GET | 每日报告 |
| `/api/simulate` | POST | 模拟活动 (调试) |
| `/ws` | WebSocket | 实时推送 |

## 🎮 独自升级元素

| 原作 | 系统对应 |
|------|---------|
| 系统面板 | Web UI |
| 每日任务 (俯卧撑/跑步) | 每日打卡 (运动/学习/专注) |
| 惩罚区域 | 连续不完成任务的惩罚 |
| 紧急任务 | 检测到拖延/异常时触发 |
| 等级/经验值 | ✅ 完整实现 |
| 属性 (力量/敏捷/体力/智力/感知) | 专注/生产/持续/创造/健康 |
| 技能 (潜行/杀意/快银/支配者之力) | ✅ 原作技能映射 |
| 商店 (药水/随机箱) | ✅ 金币 + 物品系统 |
| Buff/Debuff | ✅ 8 种效果 |
| 称号 | 觉醒者 → 影之君主 |
| 影子军团 | 自动化脚本/AI 助手 (规划中) |

## 📝 技术栈

- Python 3.10+, FastAPI, SQLite, WebSocket
- AI: Claude API / Gemini (xingsuan 中转)
- 屏幕捕捉: mss + Pillow
- 部署: PM2 + Nginx

---

*v0.1.0 | 小光 🎀 为 CC 打造 | 2026-02-16*
